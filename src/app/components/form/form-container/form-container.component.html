<div class="form">
  <form
    class="form-container"
    (ngSubmit)="onSubmit()"
    [formGroup]="formGroup"
    dir="rtl"
  >
    <mat-grid-list
      [cols]="group?.cols || cols || 1"
      rowHeight="2vh"
      [gutterSize]="gutter"
    >
      <ng-container *ngFor="let question of group?.questions || questions">
        <mat-grid-tile
          *ngIf="group?.hasButton || hasButton"
          colspan="1"
          [rowspan]="question.rows || 5"
        >
          <ng-container *ngTemplateOutlet="slots?.topButton"></ng-container>
        </mat-grid-tile>

        <mat-grid-tile
          *ngIf="question.offset"
          [rowspan]="question.rows"
          [colspan]="question.offset"
        ></mat-grid-tile>

        <mat-grid-tile
          *ngIf="!question?.isGroup"
          [colspan]="question.fullWidth ? cols : question.cols"
          [rowspan]="question.rows || 4"
        >
          <app-form-input
            *ngIf="!question.custom"
            [disabled]="formGroup.disabled"
            [control]="formGroup.controls[question.key]"
            [type]="question.type"
            [label]="question.label"
            [icon]="question.icon"
            [options]="question.inputProps?.options"
            [dateOptions]="question.inputProps?.dateOptions"
            [controlType]="question.controlType"
            [labelSize]="question.inputProps?.labelSize"
          ></app-form-input>

          <app-input-radio
            [control]="formGroup.controls[question.key]"
            [question]="question"
            *ngIf="question.controlType === 'radio'"
          >
          </app-input-radio>
        </mat-grid-tile>

        <mat-grid-tile
          *ngIf="question?.isGroup"
          [colspan]="question.fullWidth ? cols : question.cols || 1"
          [rowspan]="question.rows || 20"
        >
          <app-form-group
            [group]="question.group"
            [formGroup]="formGroup"
            [slot]="slots.groupInputs"
          ></app-form-group>
        </mat-grid-tile>
      </ng-container>
    </mat-grid-list>

    <div class="button-row" *ngIf="hasBottomButton">
      <ng-content select="[button]"></ng-content>
    </div>
  </form>
</div>
