<div class="container" *ngIf="questions.length > 0">
  <mat-grid-list cols="1" rowHeight="5vh">
    <mat-grid-tile rowspan="1">

      <app-form-header [slots]="{ gender, client, tourId }" [slot]="group.header.slot">
        <div title fxLayout="row" fxLayoutAlign="start center">

          <app-typography color="primary" bold="600" size="16">
            {{group.header.label}}
          </app-typography>
        </div>

      </app-form-header>
    </mat-grid-tile>

    <mat-grid-tile rowspan="10">
      <app-form-container [cols]="group.cols" [questions]="questions" [$questions]="$questions" [hasBottomButton]="true" (valueChange)="logForm($event)">
      </app-form-container>
    </mat-grid-tile>

    <mat-grid-tile class="row-height">
      <mat-grid-list *ngIf="hasBottom" [cols]="bottomData.length" rowHeight="5vh">
        <mat-grid-tile *ngFor="let item of bottomData; let i = index">
          <div fxFill fxLayout="row" fxLayoutAlign="start center" dir="rtl">
            <div fxFlex="50">
              <app-typography size="14" class="label-text" [bold]="500">
                {{ item.label }}:
              </app-typography>
              <app-typography [bold]="600" size="14">
                {{ item.value }}
              </app-typography>
            </div>
            <div class="divider" fxFlex="20" *ngIf="i !== 0">|</div>
          </div>
        </mat-grid-tile>

        <mat-grid-tile rowspan="1" *ngIf="group.key === 'details'">
          <app-form-header text="תקציב" custom="arrow" [slots]="{ arrow }" [title]="true" class="header">
          </app-form-header>
        </mat-grid-tile>
      </mat-grid-list>
    </mat-grid-tile>
  </mat-grid-list>
</div>

<!-- template components -->

<ng-template #gender>
  <button mat-icon-button class="gender-button mat-elevation-z1" disableRipple="true" (click)="onGenderChange()">
    <app-icon type="svg" key="gender" scale="2"></app-icon>
  </button>
</ng-template>

<ng-template #arrow>
  <button mat-icon-button disableRipple="true" (click)="onBudget()">
    <app-icon type="mat" key="expand_less" [scale]="2" color="primary"></app-icon>
  </button>
</ng-template>


<ng-template #tourId>
  <app-typography fxLayoutAlign="end"> קוד טיול : {{ tripId }} </app-typography>
</ng-template>

